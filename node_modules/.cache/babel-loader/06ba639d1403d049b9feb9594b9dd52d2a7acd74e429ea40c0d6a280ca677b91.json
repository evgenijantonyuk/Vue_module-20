{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home\"\n};\nconst _hoisted_2 = {\n  class: \"task-wrapper\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Задачи к выполнению\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"count-container\"\n};\nexport function render(_ctx, _cache) {\n  const _component_task_form = _resolveComponent(\"task-form\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_Search = _resolveComponent(\"Search\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_task_list = _resolveComponent(\"task-list\");\n  const _component_el_scrollbar = _resolveComponent(\"el-scrollbar\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createVNode(_component_el_container, {\n    class: \"el-container\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_header, {\n      class: \"header\"\n    }, {\n      default: _withCtx(() => [!_ctx.searchMark ? (_openBlock(), _createBlock(_component_task_form, {\n        key: 0,\n        onCreate: _ctx.createTask,\n        class: \"el-form\"\n      }, null, 8 /* PROPS */, [\"onCreate\"])) : _createCommentVNode(\"v-if\", true), _ctx.searchMark ? (_openBlock(), _createBlock(_component_el_input, {\n        key: 1,\n        modelValue: _ctx.searchBody,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.searchBody = $event),\n        placeholder: \"Найти Задачу\",\n        style: {\n          \"width\": \"50%\"\n        }\n      }, null, 8 /* PROPS */, [\"modelValue\"])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_Search, {\n        class: \"search-icon\",\n        onClick: _cache[1] || (_cache[1] = $event => _ctx.searchMark = !_ctx.searchMark)\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_main, {\n      class: \"main\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_scrollbar, {\n        height: \"25em\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_task_list, {\n          tasks: _ctx.searchedTasks,\n          onDelete: _ctx.delTask,\n          onEdit: _ctx.editTask,\n          onCompleteEdit: _ctx.editFormTask,\n          onIsCompleted: _ctx.completeTask\n        }, null, 8 /* PROPS */, [\"tasks\", \"onDelete\", \"onEdit\", \"onCompleteEdit\", \"onIsCompleted\"])]),\n        _: 1 /* STABLE */\n      }), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"p\", null, [_createTextVNode(\"количество задач: \"), _createElementVNode(\"strong\", null, _toDisplayString(_ctx.tasks.length), 1 /* TEXT */)])])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_el_container","default","_withCtx","_component_el_header","_ctx","searchMark","_createBlock","_component_task_form","key","onCreate","createTask","_createCommentVNode","_component_el_input","modelValue","searchBody","_cache","$event","placeholder","style","_component_Search","onClick","_","_component_el_main","_component_el_scrollbar","height","_component_task_list","tasks","searchedTasks","onDelete","delTask","onEdit","editTask","onCompleteEdit","editFormTask","onIsCompleted","completeTask","_hoisted_4","_createTextVNode","_toDisplayString","length"],"sources":["/Users/evgenijantonyuk/Desktop/Urban/vue/TaskList-master/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"task-wrapper\">\n      <h1>Задачи к выполнению</h1>\n      <el-container class=\"el-container\">\n        <el-header class=\"header\">\n          <task-form v-if=\"!searchMark\" @create=\"createTask\" class=\"el-form\"/>\n          <el-input v-model=\"searchBody\" placeholder=\"Найти Задачу\" style=\"width: 50%;\" v-if=\"searchMark\"/>\n          <Search class=\"search-icon\" @click=\"searchMark=!searchMark\" />\n        </el-header>\n        <el-main class=\"main\">\n          <el-scrollbar height=\"25em\">\n            <task-list\n                :tasks=\"searchedTasks\"\n                @delete=\"delTask\"\n                @edit=\"editTask\"\n                @completeEdit=\"editFormTask\"\n                @is-completed=\"completeTask\"/>\n          </el-scrollbar>\n          <div class=\"count-container\">\n            <p>количество задач: <strong>{{ tasks.length }}</strong></p>\n          </div>\n        </el-main>\n      </el-container>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport MyInput from \"@/components/UI/MyInput\";\nimport TaskForm from \"@/components/TaskForm\";\nimport MyButton from \"@/components/UI/MyButton\";\nimport TaskList from \"@/components/TaskList\";\nimport axios from \"axios\";\n\nexport default {\n  name: 'HomeView',\n  components: {\n    TaskList,\n    MyButton,\n    TaskForm,\n    MyInput\n  },\n\n  data() {\n    return {\n      tasks: [],\n      searchMark: false,\n      searchBody: ''\n    }\n  },\n\n  methods: {\n    createTask(task_body) {\n      const newTask = {\n        if\n      }\n      this.tasks.push(newTask)\n      console.log(this.tasks)\n    },\n    delTask(task) {\n      this.tasks = this.tasks.filter(todo => todo.task_id !== task.task_id)\n    },\n    editTask(task) {\n      this.tasks = this.tasks.map(todo => todo.task_id === task.task_id ? {...todo, isEditing: !todo.isEditing} : todo)\n      console.log(this.tasks)\n    },\n    editFormTask(task) {\n      this.tasks = this.tasks.map(todo => todo.task_id === task.task_id ? {\n        ...todo,\n        isEditing: !todo.isEditing,\n        task_body: task.task_body\n      } : todo)\n      console.log(this.tasks)\n      console.log('edit task in editFormTask', task)\n    },\n    completeTask(task) {\n      this.tasks = this.tasks.map(todo => todo.task_id === task.task_id ? {\n        ...todo,\n        isCompleted: !todo.isCompleted\n      } : todo)\n      console.log('task in completeTask', task)\n    },\n    async fetchTasks() {\n      try {\n        const response = await axios.get('http://localhost:3000/tasks')\n        console.log(response)\n        this.tasks = response.data\n\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  },\n  mounted() {\n    this.fetchTasks()\n  },\n  computed: {\n    searchedTasks() {\n      return this.tasks.filter(todo => todo.task_body.toLowerCase().includes(this.searchBody.toLowerCase()))\n    }\n  }\n}\n</script>\n\n<style>\n\n.task-wrapper {\n  width: 50%;\n  margin: 5% auto;\n}\n\n.el-container {\n  border-radius: 10px;\n}\n\nheader.header {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #c6e2ff;\n\n}\n\nmain.main {\n  background: #ecf5ff;\n  max-height: 30em;\n  overflow-y: auto;\n}\n\n.count-container {\n  margin: 0.7% auto;\n}\n\n.search-icon {\n  width: 1.5em;\n  height: 1.5em\n}\n\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAc;gCACvBC,mBAAA,CAA4B,YAAxB,qBAAmB;;EAgBdD,KAAK,EAAC;AAAiB;;;;;;;;;;uBAlBpCE,mBAAA,CAwBM,OAxBNC,UAwBM,GAvBJF,mBAAA,CAsBM,OAtBNG,UAsBM,GArBJC,UAA4B,EAC5BC,YAAA,CAmBeC,uBAAA;IAnBDP,KAAK,EAAC;EAAc;IAJxCQ,OAAA,EAAAC,QAAA,CAKQ,MAIY,CAJZH,YAAA,CAIYI,oBAAA;MAJDV,KAAK,EAAC;IAAQ;MALjCQ,OAAA,EAAAC,QAAA,CAMU,MAAoE,C,CAAlDE,IAAA,CAAAC,UAAU,I,cAA5BC,YAAA,CAAoEC,oBAAA;QAN9EC,GAAA;QAMyCC,QAAM,EAAEL,IAAA,CAAAM,UAAU;QAAEjB,KAAK,EAAC;+CANnEkB,mBAAA,gBAO8FP,IAAA,CAAAC,UAAU,I,cAA9FC,YAAA,CAAiGM,mBAAA;QAP3GJ,GAAA;QAAAK,UAAA,EAO6BT,IAAA,CAAAU,UAAU;QAPvC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAO6BZ,IAAA,CAAAU,UAAU,GAAAE,MAAA;QAAEC,WAAW,EAAC,cAAc;QAACC,KAAmB,EAAnB;UAAA;QAAA;iDAPpEP,mBAAA,gBAQUZ,YAAA,CAA8DoB,iBAAA;QAAtD1B,KAAK,EAAC,aAAa;QAAE2B,OAAK,EAAAL,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEZ,IAAA,CAAAC,UAAU,IAAED,IAAA,CAAAC,UAAU;;MARpEgB,CAAA;QAUQtB,YAAA,CAYUuB,kBAAA;MAZD7B,KAAK,EAAC;IAAM;MAV7BQ,OAAA,EAAAC,QAAA,CAWU,MAOe,CAPfH,YAAA,CAOewB,uBAAA;QAPDC,MAAM,EAAC;MAAM;QAXrCvB,OAAA,EAAAC,QAAA,CAYY,MAKkC,CALlCH,YAAA,CAKkC0B,oBAAA;UAJ7BC,KAAK,EAAEtB,IAAA,CAAAuB,aAAa;UACpBC,QAAM,EAAExB,IAAA,CAAAyB,OAAO;UACfC,MAAI,EAAE1B,IAAA,CAAA2B,QAAQ;UACdC,cAAY,EAAE5B,IAAA,CAAA6B,YAAY;UAC1BC,aAAY,EAAE9B,IAAA,CAAA+B;;QAjB/Bd,CAAA;UAmBU3B,mBAAA,CAEM,OAFN0C,UAEM,GADJ1C,mBAAA,CAA4D,YApBxE2C,gBAAA,CAoBe,oBAAkB,GAAA3C,mBAAA,CAAmC,gBAAA4C,gBAAA,CAAxBlC,IAAA,CAAAsB,KAAK,CAACa,MAAM,iB;MApBxDlB,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}