{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport MyInput from \"@/components/UI/MyInput\";\nimport TaskForm from \"@/components/TaskForm\";\nimport MyButton from \"@/components/UI/MyButton\";\nimport TaskList from \"@/components/TaskList\";\nimport axios from \"axios\";\nexport default {\n  name: 'HomeView',\n  components: {\n    TaskList,\n    MyButton,\n    TaskForm,\n    MyInput\n  },\n  data() {\n    return {\n      tasks: [],\n      searchMark: false,\n      searchBody: ''\n    };\n  },\n  methods: {\n    createTask(task_body) {\n      const newTask = {\n        task_id: Date.now(),\n        task_body: task_body,\n        isCompleted: false,\n        isEditing: false\n      };\n      this.tasks.trim().push(newTask);\n      console.log(this.tasks);\n    },\n    delTask(task) {\n      this.tasks = this.tasks.filter(todo => todo.task_id !== task.task_id);\n    },\n    editTask(task) {\n      this.tasks = this.tasks.map(todo => todo.task_id === task.task_id ? {\n        ...todo,\n        isEditing: !todo.isEditing\n      } : todo);\n      console.log(this.tasks);\n    },\n    editFormTask(task) {\n      this.tasks = this.tasks.map(todo => todo.task_id === task.task_id ? {\n        ...todo,\n        isEditing: !todo.isEditing,\n        task_body: task.task_body\n      } : todo);\n      console.log(this.tasks);\n      console.log('edit task in editFormTask', task);\n    },\n    completeTask(task) {\n      this.tasks = this.tasks.map(todo => todo.task_id === task.task_id ? {\n        ...todo,\n        isCompleted: !todo.isCompleted\n      } : todo);\n      console.log('task in completeTask', task);\n    },\n    async fetchTasks() {\n      try {\n        const response = await axios.get('http://localhost:3000/tasks');\n        console.log(response);\n        this.tasks = response.data;\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  },\n  mounted() {\n    this.fetchTasks();\n  },\n  computed: {\n    searchedTasks() {\n      return this.tasks.filter(todo => todo.task_body.toLowerCase().includes(this.searchBody.toLowerCase()));\n    }\n  }\n};","map":{"version":3,"names":["MyInput","TaskForm","MyButton","TaskList","axios","name","components","data","tasks","searchMark","searchBody","methods","createTask","task_body","newTask","task_id","Date","now","isCompleted","isEditing","trim","push","console","log","delTask","task","filter","todo","editTask","map","editFormTask","completeTask","fetchTasks","response","get","e","mounted","computed","searchedTasks","toLowerCase","includes"],"sources":["/Users/evgenijantonyuk/Desktop/Urban/vue/TaskList-master/src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"task-wrapper\">\n      <h1>Задачи к выполнению</h1>\n      <el-container class=\"el-container\">\n        <el-header class=\"header\">\n          <task-form v-if=\"!searchMark\" @create=\"createTask\" class=\"el-form\"/>\n          <el-input v-model=\"searchBody\" placeholder=\"Найти Задачу\" style=\"width: 50%;\" v-if=\"searchMark\"/>\n          <Search class=\"search-icon\" @click=\"searchMark=!searchMark\" />\n        </el-header>\n        <el-main class=\"main\">\n          <el-scrollbar height=\"25em\">\n            <task-list\n                :tasks=\"searchedTasks\"\n                @delete=\"delTask\"\n                @edit=\"editTask\"\n                @completeEdit=\"editFormTask\"\n                @is-completed=\"completeTask\"/>\n          </el-scrollbar>\n          <div class=\"count-container\">\n            <p>количество задач: <strong>{{ tasks.length }}</strong></p>\n          </div>\n        </el-main>\n      </el-container>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport MyInput from \"@/components/UI/MyInput\";\nimport TaskForm from \"@/components/TaskForm\";\nimport MyButton from \"@/components/UI/MyButton\";\nimport TaskList from \"@/components/TaskList\";\nimport axios from \"axios\";\n\nexport default {\n  name: 'HomeView',\n  components: {\n    TaskList,\n    MyButton,\n    TaskForm,\n    MyInput\n  },\n\n  data() {\n    return {\n      tasks: [],\n      searchMark: false,\n      searchBody: ''\n    }\n  },\n\n  methods: {\n    createTask(task_body) {\n      const newTask = {\n        task_id: Date.now(),\n        task_body: task_body,\n        isCompleted: false,\n        isEditing: false\n      }\n      this.tasks.trim().push(newTask)\n      console.log(this.tasks)\n    },\n    delTask(task) {\n      this.tasks = this.tasks.filter(todo => todo.task_id !== task.task_id)\n    },\n    editTask(task) {\n      this.tasks = this.tasks.map(todo => todo.task_id === task.task_id ? {...todo, isEditing: !todo.isEditing} : todo)\n      console.log(this.tasks)\n    },\n    editFormTask(task) {\n      this.tasks = this.tasks.map(todo => todo.task_id === task.task_id ? {\n        ...todo,\n        isEditing: !todo.isEditing,\n        task_body: task.task_body\n      } : todo)\n      console.log(this.tasks)\n      console.log('edit task in editFormTask', task)\n    },\n    completeTask(task) {\n      this.tasks = this.tasks.map(todo => todo.task_id === task.task_id ? {\n        ...todo,\n        isCompleted: !todo.isCompleted\n      } : todo)\n      console.log('task in completeTask', task)\n    },\n    async fetchTasks() {\n      try {\n        const response = await axios.get('http://localhost:3000/tasks')\n        console.log(response)\n        this.tasks = response.data\n\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  },\n  mounted() {\n    this.fetchTasks()\n  },\n  computed: {\n    searchedTasks() {\n      return this.tasks.filter(todo => todo.task_body.toLowerCase().includes(this.searchBody.toLowerCase()))\n    }\n  }\n}\n</script>\n\n<style>\n\n.task-wrapper {\n  width: 50%;\n  margin: 5% auto;\n}\n\n.el-container {\n  border-radius: 10px;\n}\n\nheader.header {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #c6e2ff;\n\n}\n\nmain.main {\n  background: #ecf5ff;\n  max-height: 30em;\n  overflow-y: auto;\n}\n\n.count-container {\n  margin: 0.7% auto;\n}\n\n.search-icon {\n  width: 1.5em;\n  height: 1.5em\n}\n\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}